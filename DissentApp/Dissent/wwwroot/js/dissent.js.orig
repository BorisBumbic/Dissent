<<<<<<< HEAD
﻿var app = new Vue({
=======
﻿

 


var app;

function initMap() {
    app = new Vue({
>>>>>>> b492ce14b945b24f13019de3a6b426142b5043b8
        el: "#app",
        data: {
           
            map: "",
            sentimentResponse: [],
            userinput: "",
<<<<<<< HEAD
            latLng: [lat = 59.40316, lng = 17.94479]
=======
            lat: "",
            lng: "",
            radius:""
>>>>>>> b492ce14b945b24f13019de3a6b426142b5043b8
        },
        async created() {

        },
        mounted() {
            this.initMap();
        },
        methods: {
            initMap: function () {
                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 8,
                    center: new google.maps.LatLng(this.latLng),
                    mapTypeId: 'hybrid'
                });

                this.marker = new google.maps.Marker({
                   
                    position: {this.latLng},
                    map: map,
                    title: 'Drop me at the desired location!',
                    draggable: true
                });
                google.maps.event.addListener(this.marker, 'dragend', function () {


                    app.lat = this.getPosition().lat();
                    app.lng = this.getPosition().lng();
                    
                  
                });
               
               
            },

          
            async showTweetSentiment() {
                let response = await fetch("/Tweet/TwitterResult/?input=" + this.userinput+"&lat=" + this.lat+ "&lng=" + this.lng+"&radius="+this.radius,{
                method: "get"
                 });

              this.sentimentResponse = await response.json();
              console.log("sentimentResponse", this.sentimentResponse);
            }
        }
    });



<<<<<<< HEAD
    
=======
>>>>>>> b492ce14b945b24f13019de3a6b426142b5043b8

